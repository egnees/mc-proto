pub const RAFT_ROLE: &str = "raft";
pub const PROCESS_NAME: &str = "rsm";

////////////////////////////////////////////////////////////////////////////////

pub fn node(id: usize) -> String {
    format!("n{id}")
}

////////////////////////////////////////////////////////////////////////////////

pub fn make_addr(id: usize) -> mc::Address {
    mc::Address::new(node(id), PROCESS_NAME)
}

////////////////////////////////////////////////////////////////////////////////

pub fn iter_others(nodes: usize, me: usize) -> impl Iterator<Item = usize> {
    (0..nodes).filter(move |n| *n != me)
}

////////////////////////////////////////////////////////////////////////////////

pub fn id(a: &mc::Address) -> u64 {
    a.node[1..].parse::<u64>().unwrap()
}
